======================
Pulp 2.3 Release Notes
======================

Pulp 2.3.0
==========

New Features
------------

#. Qpid SSL Certificates generated by the pulp-qpid-ssl-cfg script are no longer world readable.  It is
   recommended that existing installations are updated manually.  If the default locations were used the
   following changes would be be needed.

   #. chmod 640 /etc/pki/pulp/qpid/*.crt
   #. chgrp apache /etc/pki/pulp/qpid/*.crt
   #. chmod 640 /etc/pki/pulp/qpid/nss/*
   #. chgrp qpidd /etc/pki/pulp/qpid/nss/*

#. OAuth authentication is enabled by default using generated credentials.

#. The authentication method used by *Nodes* has been changed to OAuth. Uses upgrading Pulp
   servers that are functioning as child *Nodes* will need to update a new *Nodes* configuration
   file as specified in :doc:`../nodes` section of the user guide.

#. The CA (Certificate Authority) used by Pulp to sign and validate user login is generated
   during installation. Previously, the SSL private key and certificate were installed from the
   git repository. This means that each installation had the same key and certificate
   installed. In 2.3, the CA key stored at ``/etc/pki/pulp/ca.key`` and certificate stored
   at ``/etc/pki/pulp/ca.crt`` will be uniquely generated for each install. The key and certificate
   are **not** updated during RPM upgrade. Users upgrading to 2.3 are encouraged to generate
   a new (unique) CA key and certificate by running: `pulp-gen-ca-certificate` as root. Then,
   restart httpd. pulp-admin users will need to login again.

Client Changes
--------------

Noteworthy Bugs Fixed
---------------------

RFE Bugs
--------

All Bugs
--------

You can see the complete list of bugs that were
`fixed in Pulp 2.3.0 <https://bugzilla.redhat.com/buglist.cgi?list_id=1242840&resolution=---&resolution=CURRENTRELEASE&classification=Community&target_release=2.3.0&query_format=advanced&bug_status=VERIFIED&bug_status=CLOSED&component=admin-client&component=bindings&component=consumer-client%2Fagent&component=consumers&component=coordinator&component=documentation&component=events&component=nodes&component=okaara&component=rel-eng&component=repositories&component=rest-api&component=selinux&component=upgrade&component=users&component=z_other&product=Pulp>`_.

API Changes
-----------
#. Importers no longer pass the related repositories to the validate_config(...) method.
#. Distributors now pass a pulp.plugins.conduits.repo_config.RepoConfigConduit instead of the related
   repositories to the validate_config(...) method.  The RepoConfigConduit is used to provide
   methods for performing the kind of cross repository searching & validation that formerly had to be done
   manually by comparing the configuration of each related repository.

Upgrade Instructions for 2.2.x --> 2.3.0
----------------------------------------

To upgrade to the new Pulp release from version 2.2.x, you should begin by using yum to install the latest RPMs
from the Pulp repository and run the database migrations::

    $ sudo yum upgrade
    $ sudo pulp-manage-db
